{"ast":null,"code":"import _classCallCheck from \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\laragon\\\\www\\\\Prism\\\\bafco_cms\\\\src\\\\views\\\\Blogs\\\\List.jsx\";\nimport React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { AddOutlined, DeleteOutlined, EditOutlined, VisibilityOutlined } from \"@material-ui/icons\";\n\nvar RoomsList = /*#__PURE__*/function (_Component) {\n  _inherits(RoomsList, _Component);\n\n  var _super = _createSuper(RoomsList);\n\n  function RoomsList() {\n    var _this;\n\n    _classCallCheck(this, RoomsList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedLang: \"en\",\n      offers: [],\n      columns: [{\n        name: \"featured_img\",\n        label: \"Image\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: function customBodyRender(val, row) {\n            var _row$tableData$row$ro;\n\n            return /*#__PURE__*/React.createElement(Avatar, {\n              alt: (_row$tableData$row$ro = row.tableData[row.rowIndex][1]) === null || _row$tableData$row$ro === void 0 ? void 0 : _row$tableData$row$ro.toUpperCase(),\n              src: val,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 13\n              }\n            });\n          }\n        }\n      }, {\n        name: \"title\",\n        label: \"Name\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"short_description\",\n        label: \"Description\",\n        options: {\n          filter: true,\n          sort: false,\n          customBodyRender: function customBodyRender(val) {\n            return /*#__PURE__*/React.createElement(\"code\", {\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 13\n              }\n            }, (val === null || val === void 0 ? void 0 : val.length) > 100 ? (val === null || val === void 0 ? void 0 : val.substr(0, 100)) + \"...\" : val);\n          }\n        }\n      }, {\n        name: \"route\",\n        label: \"Actions\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: function customBodyRender(val) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"d-flex nowrap\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 13\n              }\n            }, /*#__PURE__*/React.createElement(Link, {\n              className: \"ml-2\",\n              title: \"Edit\",\n              to: \"/admin/blogs/edit/\".concat(val),\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(EditOutlined, {\n              fontSize: \"small\",\n              color: \"primary\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }\n            })), /*#__PURE__*/React.createElement(Link, {\n              className: \"ml-2\",\n              title: \"Delete\",\n              to: \"#\",\n              onClick: function onClick() {\n                return _this.handleDelete(val);\n              },\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n              fontSize: \"small\",\n              color: \"secondary\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }\n            })));\n          }\n        }\n      }],\n      rows: []\n    };\n    _this.options = {\n      // filterType: \"checkbox\",\n      selectableRows: false,\n      responsive: \"vertical\"\n    };\n\n    _this.handleDelete = function (id) {\n      if (window.confirm(\"Are you sure you want to delete this ?\")) {\n        var token = localStorage.getItem(\"authToken\") || \"\";\n        API[\"delete\"](\"/blogs/\".concat(id, \"?lang=\").concat(_this.state.selectedLang), {\n          headers: {\n            'Authorization': \"Bearer \".concat(token)\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            alert(\"Blog deleted successfully!\");\n          }\n        }).then(function () {\n          API.get(\"/blogs?lang=\".concat(_this.state.selectedLang)).then(function (response) {\n            var rows = response.data;\n\n            _this.setState({\n              rows: rows\n            });\n          });\n        })[\"catch\"](function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.handleChange = function (event) {\n      // setAge(event.target.value as string);\n      if (event.target.value != _this.state.selectedLang) {\n        _this.setState({\n          selectedLang: event.target.value\n        });\n      }\n\n      console.log(event.target.value, \"event.target.value\");\n    };\n\n    return _this;\n  }\n\n  _createClass(RoomsList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      API.get(\"/blogs\").then(function (response) {\n        var rows = response.data;\n\n        _this2.setState({\n          rows: rows\n        });\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      if (prevState.selectedLang !== this.state.selectedLang) {\n        API.get(\"/blogs\").then(function (response) {\n          var rows = response.data;\n\n          if (_this3.state.rows != rows) {\n            _this3.setState({\n              rows: rows\n            });\n          }\n        })[\"catch\"](function (err) {\n          return console.log(err);\n        });\n      }\n    } // handleDelete = (id) => {\n    //   if (window.confirm(\"Are you sure you want to delete this ?\")) {\n    //     API.delete(`/blogs/${id}`)\n    //       .then((response) => {\n    //         if (response.status === 200) {\n    //           alert(\"Blog deleted successfully !\");\n    //         }\n    //       })\n    //       .then(() => {\n    //         API.get(`/blogs`).then((response) => {\n    //           let rows = response.data;\n    //           this.setState({ rows });\n    //         });\n    //       })\n    //       .catch((err) => console.log(err));\n    //   }\n    // };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        marginBottom: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/admin/blogs/add\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/React.createElement(AddOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 28\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }\n      }, \"Add Blog\")))), /*#__PURE__*/React.createElement(MUIDataTable, {\n        title: \"Blogs\",\n        columns: this.state.columns,\n        data: this.state.rows,\n        options: this.options,\n        loading: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return RoomsList;\n}(Component);\n\nexport default RoomsList;","map":{"version":3,"sources":["E:/laragon/www/Prism/bafco_cms/src/views/Blogs/List.jsx"],"names":["React","Component","MUIDataTable","API","InputLabel","Avatar","Box","Button","FormControl","FormControlLabel","MenuItem","Radio","RadioGroup","Select","TextField","Link","AddOutlined","DeleteOutlined","EditOutlined","VisibilityOutlined","RoomsList","state","selectedLang","offers","columns","name","label","options","filter","sort","customBodyRender","val","row","tableData","rowIndex","toUpperCase","length","substr","handleDelete","rows","selectableRows","responsive","id","window","confirm","token","localStorage","getItem","headers","then","response","status","alert","get","data","setState","err","console","log","handleChange","event","target","value","prevProps","prevState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField, } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport {\n  AddOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  VisibilityOutlined,\n} from \"@material-ui/icons\";\n\nclass RoomsList extends Component {\n  state = {\n    selectedLang: \"en\",\n    offers: [],\n    columns: [\n      {\n        name: \"featured_img\",\n        label: \"Image\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: (val, row) => (\n            <Avatar\n              alt={row.tableData[row.rowIndex][1]?.toUpperCase()}\n              src={val}\n            ></Avatar>\n          ),\n        },\n      },\n      {\n        name: \"title\",\n        label: \"Name\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"short_description\",\n        label: \"Description\",\n        options: {\n          filter: true,\n          sort: false,\n          customBodyRender: (val) => (\n            <code>{val?.length > 100 ? val?.substr(0, 100) + \"...\" : val}</code>\n          ),\n        },\n      },\n      {\n        name: \"route\",\n        label: \"Actions\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: (val) => (\n            <div className=\"d-flex nowrap\">\n              {/* <Link\n                title=\"View Details\"\n                to={`/admin/blogs/${val}`}\n              >\n                <VisibilityOutlined fontSize=\"small\" color=\"action\" />\n              </Link> */}\n              <Link\n                className=\"ml-2\"\n                title=\"Edit\"\n                to={`/admin/blogs/edit/${val}`}\n              >\n                <EditOutlined fontSize=\"small\" color=\"primary\" />\n              </Link>\n              <Link\n                className=\"ml-2\"\n                title=\"Delete\"\n                to={`#`}\n                onClick={() => this.handleDelete(val)}\n              >\n                <DeleteOutlined fontSize=\"small\" color=\"secondary\" />\n              </Link>\n            </div>\n          ),\n        },\n      },\n    ],\n    rows: [],\n  };\n\n  options = {\n    // filterType: \"checkbox\",\n    selectableRows: false,\n    responsive: \"vertical\",\n  };\n\n  componentDidMount() {\n    API.get(`/blogs`).then((response) => {\n      let rows = response.data;\n      this.setState({ rows });\n    }).catch(err => console.log(err));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedLang !== this.state.selectedLang) {\n      API.get(`/blogs`).then((response) => {\n        let rows = response.data;\n        if(this.state.rows != rows){\n            this.setState({ rows });\n        }\n      }).catch(err => console.log(err));\n    }\n  }\n  \n\n  // handleDelete = (id) => {\n  //   if (window.confirm(\"Are you sure you want to delete this ?\")) {\n  //     API.delete(`/blogs/${id}`)\n  //       .then((response) => {\n  //         if (response.status === 200) {\n  //           alert(\"Blog deleted successfully !\");\n  //         }\n  //       })\n  //       .then(() => {\n  //         API.get(`/blogs`).then((response) => {\n  //           let rows = response.data;\n  //           this.setState({ rows });\n  //         });\n  //       })\n  //       .catch((err) => console.log(err));\n  //   }\n  // };\n\n  handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this ?\")) {\n      let token =  localStorage.getItem(\"authToken\") || \"\"\n      API.delete(`/blogs/${id}?lang=${this.state.selectedLang}`,{\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }})\n        .then((response) => {\n          if (response.status === 200) {\n            alert(\"Blog deleted successfully!\");\n          }\n        })\n        .then(() => {\n          API.get(`/blogs?lang=${this.state.selectedLang}`).then((response) => {\n            let rows = response.data;\n            this.setState({ rows });\n          });\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  handleChange = (event) => {\n    // setAge(event.target.value as string);\n    if (event.target.value != this.state.selectedLang) {\n      this.setState({ selectedLang: event.target.value })\n    }\n    console.log(event.target.value, \"event.target.value\")\n  };\n\n\n  render() {\n    return (\n      <div>\n        <Box marginBottom={4}>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <Link to=\"/admin/blogs/add\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<AddOutlined />}\n              >\n                Add Blog\n              </Button>\n            </Link>\n            {/* <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ width: \"20%\" }}\n            >\n              <InputLabel id=\"language\">Select Language</InputLabel>\n              <Select\n                labelId=\"language\"\n                id=\"language\"\n                name=\"language\"\n                value={this.state.selectedLang}\n                label=\"Select Language\"\n                fullWidth\n                onChange={this.handleChange}\n              >\n                <MenuItem value={'en'}>En</MenuItem>\n                <MenuItem value={'fr'}>FR</MenuItem>\n                <MenuItem value={'de'}>DE</MenuItem>\n\n              </Select>\n            </FormControl> */}\n          </div>\n        </Box>\n        <MUIDataTable\n          title=\"Blogs\"\n          columns={this.state.columns}\n          data={this.state.rows}\n          options={this.options}\n          loading\n        />\n      </div>\n    );\n  }\n}\n\nexport default RoomsList;\n"]},"metadata":{},"sourceType":"module"}