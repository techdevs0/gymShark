{"ast":null,"code":"import _slicedToArray from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\src\\\\views\\\\Gallery\\\\UpdateGalleryDialog.js\";\nimport React, { Fragment, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent'; // import DialogContentText from '@material-ui/core/DialogContentText';\n\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Image } from '@material-ui/icons';\nimport API from 'utils/http';\nimport { Grid, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nexport default function UpdateGalleryDialog(props) {\n  console.log(props.image);\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      id = _React$useState2[0],\n      set_id = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      alt_tag = _React$useState4[0],\n      set_alt_tag = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      avatar = _React$useState6[0],\n      set_avatar = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      is360 = _React$useState8[0],\n      set_is360 = _React$useState8[1];\n\n  useEffect(function () {\n    if (props.image) {\n      var _props$image, _props$image2, _props$image3, _props$image4;\n\n      set_id((_props$image = props.image) === null || _props$image === void 0 ? void 0 : _props$image.id);\n      set_alt_tag((_props$image2 = props.image) === null || _props$image2 === void 0 ? void 0 : _props$image2.alt_tag);\n      set_avatar((_props$image3 = props.image) === null || _props$image3 === void 0 ? void 0 : _props$image3.avatar);\n      set_is360(((_props$image4 = props.image) === null || _props$image4 === void 0 ? void 0 : _props$image4[\"360_view\"]) === \"1\" ? true : false);\n    }\n  }, [props.image]);\n\n  var handleFileChange = function handleFileChange(e) {\n    var files = e.target.files || e.dataTransfer.files;\n    if (!files.length) return;\n    set_avatar(files[0]);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    var imagesFormData = new FormData();\n    imagesFormData.append(\"images[]\", avatar);\n    imagesFormData.append(\"id\", id);\n    imagesFormData.append(\"data[]\", JSON.stringify({\n      alt_tag: alt_tag,\n      is360: is360\n    })); // props.onClose();\n    // return;\n\n    API.post(\"/upload_edit\", imagesFormData, {\n      headers: {\n        'Content-Type': \"multipart/form-data; boundary=\".concat(imagesFormData._boundary)\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        alert(\"Image updated successfully.\"); // this.setState({currentFiles: []})\n      }\n    })[\"catch\"](function (err) {\n      return alert(\"Something went wrong\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: props.open,\n    onClose: props.handleClose,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Update Gallery Image\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    type: \"post\",\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"alt_tag\",\n    label: \"Alternate Text\",\n    type: \"text\",\n    fullWidth: true,\n    size: \"small\",\n    value: alt_tag,\n    onChange: function onChange(e) {\n      return set_alt_tag(e.target.value);\n    },\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    style: {\n      marginTop: '1rem'\n    },\n    component: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    \"aria-label\": \"is360\",\n    row: true,\n    defaultChecked: true,\n    name: \"is360\",\n    value: is360,\n    onChange: function onChange(e) {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: false,\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 82\n      }\n    }),\n    label: \"Regular/Slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: true,\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 81\n      }\n    }),\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 99\n      }\n    }, \"360\", /*#__PURE__*/React.createElement(\"sup\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 108\n      }\n    }, \"o\"), \" View\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '180px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"100%\",\n    style: {\n      height: '100%',\n      objectFit: 'cover'\n    },\n    className: \"img-thumbnail\",\n    src: typeof avatar === typeof \"\" ? avatar : URL.createObjectURL(avatar),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    color: \"primary\",\n    accept: \"image/*\",\n    type: \"file\",\n    onChange: handleFileChange,\n    fullWidth: true,\n    id: \"thumbnail\",\n    name: \"thumbnail\",\n    style: {\n      display: 'none',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"thumbnail\",\n    style: {\n      width: '100%',\n      margin: 0,\n      marginTop: '.5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    component: \"span\" // size=\"sm\"\n    ,\n    fullWidth: true,\n    disableElevation: true,\n    color: \"primary\",\n    style: {\n      margin: 0,\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 45\n    }\n  }), \" Upload Featured Image\"))))))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: props.onClose,\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n}","map":{"version":3,"sources":["E:/laragon/www/Prism/gymShark/gymShark_cms/src/views/Gallery/UpdateGalleryDialog.js"],"names":["React","Fragment","useEffect","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Image","API","Grid","FormControl","FormControlLabel","Radio","RadioGroup","UpdateGalleryDialog","props","console","log","image","useState","id","set_id","alt_tag","set_alt_tag","avatar","set_avatar","is360","set_is360","handleFileChange","e","files","target","dataTransfer","length","handleSubmit","imagesFormData","FormData","append","JSON","stringify","post","headers","_boundary","then","response","status","alert","err","open","handleClose","value","marginTop","width","height","objectFit","URL","createObjectURL","display","margin","onClose"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\n// import DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Image } from '@material-ui/icons';\nimport API from 'utils/http';\nimport { Grid, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\n\nexport default function UpdateGalleryDialog(props) {\n    console.log(props.image)\n    const [id, set_id] = React.useState(-1);\n    const [alt_tag, set_alt_tag] = React.useState(\"\");\n    const [avatar, set_avatar] = React.useState(\"\");\n    const [is360, set_is360] = React.useState(false);\n\n    useEffect(() => {\n        if (props.image) {\n            set_id(props.image?.id);\n            set_alt_tag(props.image?.alt_tag);\n            set_avatar(props.image?.avatar);\n            set_is360(props.image?.[\"360_view\"] === \"1\" ? true : false);\n        }\n    }, [props.image])\n\n    const handleFileChange = (e) => {\n        let files = e.target.files || e.dataTransfer.files;\n        if (!files.length)\n            return;\n        set_avatar(files[0]);\n    }\n\n    const handleSubmit = () => {\n        let imagesFormData = new FormData();\n        imagesFormData.append(\"images[]\", avatar);\n        imagesFormData.append(\"id\", id);\n        imagesFormData.append(\"data[]\", JSON.stringify({\n            alt_tag,\n            is360\n        }));\n        // props.onClose();\n        // return;\n        API.post(`/upload_edit`, imagesFormData, {\n            headers: {\n                'Content-Type': `multipart/form-data; boundary=${imagesFormData._boundary}`,\n            }\n        }).then(response => {\n            if (response.status === 200) {\n                alert(\"Image updated successfully.\");\n                // this.setState({currentFiles: []})\n            }\n        }).catch(err => alert(\"Something went wrong\"));\n\n    }\n\n    return (\n        <div>\n            <Dialog open={props.open} onClose={props.handleClose} maxWidth=\"sm\" fullWidth aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Update Gallery Image</DialogTitle>\n                <DialogContent>\n                    <form type=\"post\" encType=\"multipart/form-data\">\n\n                        <Grid container spacing={5}>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    id=\"alt_tag\"\n                                    label=\"Alternate Text\"\n                                    type=\"text\"\n                                    fullWidth\n                                    size=\"small\"\n                                    value={alt_tag}\n                                    onChange={(e) => set_alt_tag(e.target.value)}\n                                    variant=\"outlined\"\n                                />\n                                <FormControl style={{ marginTop: '1rem' }} component=\"fieldset\">\n                                    <RadioGroup aria-label=\"is360\" row defaultChecked name=\"is360\" value={is360} onChange={(e) => { }}>\n                                        <FormControlLabel value={false} control={<Radio />} label=\"Regular/Slider\" />\n                                        <FormControlLabel value={true} control={<Radio />} label={<span>360<sup>o</sup> View</span>} />\n                                    </RadioGroup>\n                                </FormControl>\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <div style={{\n                                    width: '100%', height: '180px'\n                                }}>\n                                    <img width=\"100%\" style={{ height: '100%', objectFit: 'cover' }} className=\"img-thumbnail\" src={typeof (avatar) === typeof (\"\") ? avatar : URL.createObjectURL(avatar)} alt=\"\" />\n                                </div>\n                                <Fragment>\n                                    <input\n                                        color=\"primary\"\n                                        accept=\"image/*\"\n                                        type=\"file\"\n                                        onChange={handleFileChange}\n                                        fullWidth\n                                        id=\"thumbnail\"\n                                        name=\"thumbnail\"\n                                        style={{ display: 'none', width: '100%' }}\n                                    />\n                                    <label htmlFor=\"thumbnail\" style={{ width: '100%', margin: 0, marginTop: '.5rem' }}>\n                                        <Button\n                                            variant=\"outlined\"\n                                            component=\"span\"\n                                            // size=\"sm\"\n                                            fullWidth\n                                            disableElevation={true}\n                                            color=\"primary\"\n                                            style={{ margin: 0, width: '100%' }}\n                                        >\n                                            <Image /> Upload Featured Image\n                                    </Button>\n                                    </label>\n                                </Fragment>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={props.onClose} variant=\"contained\" color=\"secondary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\n                        Submit\n                     </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}