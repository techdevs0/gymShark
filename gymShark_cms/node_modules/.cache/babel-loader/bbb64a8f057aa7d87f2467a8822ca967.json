{"ast":null,"code":"import _classCallCheck from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\src\\\\views\\\\Transactions\\\\List.jsx\";\nimport React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"reactstrap\";\nimport { AddOutlined, SearchOutlined, DeleteOutlined, EditOutlined, VisibilityOutlined } from \"@material-ui/icons\";\nimport Card from \"components/Card/Card.js\";\nimport \"flatpickr/dist/themes/material_blue.css\";\nimport Flatpickr from \"react-flatpickr\";\n\nvar TransactionList = /*#__PURE__*/function (_Component) {\n  _inherits(TransactionList, _Component);\n\n  var _super = _createSuper(TransactionList);\n\n  function TransactionList() {\n    var _this;\n\n    _classCallCheck(this, TransactionList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedLang: \"en\",\n      offers: [],\n      columns: [// {\n      //   name: \"img\",\n      //   label: \"Image\",\n      //   options: {\n      //     filter: false,\n      //     sort: false,\n      //     customBodyRender: (val, row) => (\n      //       <Avatar\n      //         alt={row.tableData[row.rowIndex][1]?.toUpperCase()}\n      //         src={val}\n      //       ></Avatar>\n      //     ),\n      //   },\n      // },\n      {\n        name: \"date\",\n        label: \"Date\",\n        options: {\n          filter: true,\n          sort: true\n        } //<p className=\"text-bold-500 mb-0\">{new Date(row.created_at).toLocaleDateString()}</p>\n\n      }, {\n        name: \"user\",\n        label: \"Customer Name\",\n        options: {\n          filter: true,\n          sort: true\n        },\n        customBodyRender: function customBodyRender(val) {\n          return /*#__PURE__*/React.createElement(\"code\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 11\n            }\n          }, (val === null || val === void 0 ? void 0 : val.name) || \"\");\n        }\n      }, {\n        name: \"orderNo\",\n        label: \"Order No\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"email\",\n        label: \"Email\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"phone\",\n        label: \"Phone\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"cart_amount\",\n        label: \"Amount\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"Status\",\n        label: \"status\",\n        options: {\n          filter: true,\n          sort: true,\n          customBodyRender: function customBodyRender(val) {\n            return /*#__PURE__*/React.createElement(\"code\", {\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 13\n              }\n            }, val);\n          }\n        }\n      }],\n      rows: [],\n      date: \"\",\n      dateFrom: \"\",\n      dateTo: \"\",\n      show: false\n    };\n    _this.options = {\n      // filterType: \"checkbox\",\n      responsive: \"vertical\",\n      selectableRows: false // options={{\n      //   selectableRows: false // <===== will turn off checkboxes in rows\n      // }}\n\n    };\n\n    _this.handleDelete = function (id) {\n      if (window.confirm(\"Are you sure you want to delete this ?\")) {\n        var token = localStorage.getItem(\"authToken\") || \"\";\n        API[\"delete\"](\"/variations/\".concat(id, \"?lang=\").concat(_this.state.selectedLang), {\n          headers: {\n            'Authorization': \"Bearer \".concat(token)\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            alert(\"Variation deleted successfully !\");\n          }\n        }).then(function () {\n          API.get(\"/variations?lang=\".concat(_this.state.selectedLang)).then(function (response) {\n            var _response$data;\n\n            var rows = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data;\n\n            _this.setState({\n              rows: rows\n            });\n          });\n        })[\"catch\"](function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.handleChange = function (event) {\n      // setAge(event.target.value as string);\n      if (event.target.value != _this.state.selectedLang) {\n        _this.setState({\n          selectedLang: event.target.value\n        });\n      }\n\n      console.log(event.target.value, \"event.target.value\");\n    };\n\n    _this.onSelect = function (dateValue) {\n      if (dateValue.length > 1) {\n        var formMonth = dateValue[0].getMonth() + 1;\n        var toMonth = dateValue[1].getMonth() + 1;\n        var fromDate = dateValue[0].getDate();\n        var toDate = dateValue[1].getDate();\n\n        if (formMonth < 10) {\n          formMonth = \"0\" + formMonth;\n        }\n\n        if (toMonth < 10) {\n          toMonth = \"0\" + toMonth;\n        }\n\n        if (fromDate < 10) {\n          fromDate = \"0\" + fromDate;\n        }\n\n        if (toDate < 10) {\n          toDate = \"0\" + toDate;\n        }\n\n        var from = dateValue[0].getFullYear() + \"-\" + formMonth + \"-\" + fromDate;\n        var to = dateValue[1].getFullYear() + \"-\" + toMonth + \"-\" + toDate;\n\n        _this.setState({\n          dateFrom: from,\n          dateTo: to\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(TransactionList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      API.get(\"/variations?lang=\".concat(this.state.selectedLang)).then(function (response) {\n        var _response$data2;\n\n        var rows = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data;\n\n        _this2.setState({\n          rows: rows\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      if (prevState.selectedLang !== this.state.selectedLang) {\n        API.get(\"/variations?lang=\".concat(this.state.selectedLang)).then(function (response) {\n          var _response$data3;\n\n          var rows = response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.data;\n\n          if (_this3.state.rows != rows) {\n            _this3.setState({\n              rows: rows\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        marginBottom: 2,\n        margin: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center\",\n        style: {\n          columnGap: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        size: \"small\",\n        style: {\n          width: \"20%\"\n        } // fullWidth\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Flatpickr, {\n        value: this.state.date,\n        mode: \"range\",\n        options: {\n          dateFormat: \"Y-m-d\",\n          mode: \"range\"\n        },\n        onChange: function onChange(date) {\n          _this4.onSelect(date);\n\n          _this4.setState({\n            date: date\n          });\n        },\n        placeholder: \"Select Date Here\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/React.createElement(SearchOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 28\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 15\n        }\n      }, \"Search\")))), /*#__PURE__*/React.createElement(MUIDataTable, {\n        title: \"Transactions\",\n        columns: this.state.columns,\n        data: this.state.rows,\n        options: this.options,\n        loading: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return TransactionList;\n}(Component);\n\nexport default TransactionList;","map":{"version":3,"sources":["E:/laragon/www/Prism/gymShark/gymShark_cms/src/views/Transactions/List.jsx"],"names":["React","Component","MUIDataTable","API","InputLabel","Avatar","Box","Button","FormControl","FormControlLabel","MenuItem","Radio","RadioGroup","Select","TextField","Link","Modal","AddOutlined","SearchOutlined","DeleteOutlined","EditOutlined","VisibilityOutlined","Card","Flatpickr","TransactionList","state","selectedLang","offers","columns","name","label","options","filter","sort","customBodyRender","val","rows","date","dateFrom","dateTo","show","responsive","selectableRows","handleDelete","id","window","confirm","token","localStorage","getItem","headers","then","response","status","alert","get","data","setState","err","console","log","handleChange","event","target","value","onSelect","dateValue","length","formMonth","getMonth","toMonth","fromDate","getDate","toDate","from","getFullYear","to","prevProps","prevState","columnGap","width","dateFormat","mode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField, } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"reactstrap\";\nimport {\n  AddOutlined,\n  SearchOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  VisibilityOutlined,\n} from \"@material-ui/icons\";\n\n\nimport Card from \"components/Card/Card.js\";\nimport \"flatpickr/dist/themes/material_blue.css\";\nimport Flatpickr from \"react-flatpickr\";\nclass TransactionList extends Component {\n  state = {\n    selectedLang: \"en\",\n    offers: [],\n    columns: [\n      // {\n      //   name: \"img\",\n      //   label: \"Image\",\n      //   options: {\n      //     filter: false,\n      //     sort: false,\n      //     customBodyRender: (val, row) => (\n      //       <Avatar\n      //         alt={row.tableData[row.rowIndex][1]?.toUpperCase()}\n      //         src={val}\n      //       ></Avatar>\n      //     ),\n      //   },\n      // },\n      {\n        name: \"date\",\n        label: \"Date\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n        //<p className=\"text-bold-500 mb-0\">{new Date(row.created_at).toLocaleDateString()}</p>\n      },\n      {\n        name: \"user\",\n        label: \"Customer Name\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n        customBodyRender: (val) => (\n          <code>{val?.name || \"\"}</code>\n        ),\n      },\n      {\n        name: \"orderNo\",\n        label: \"Order No\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"email\",\n        label: \"Email\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"phone\",\n        label: \"Phone\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"cart_amount\",\n        label: \"Amount\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"Status\",\n        label: \"status\",\n        options: {\n          filter: true,\n          sort: true,\n          customBodyRender: (val) => (\n            <code>{val}</code>\n          ),\n        },\n      },\n    ],\n    rows: [],\n    date: \"\",\n    dateFrom: \"\",\n    dateTo: \"\",\n    show: false\n  };\n\n  options = {\n    // filterType: \"checkbox\",\n    responsive: \"vertical\",\n    selectableRows: false\n    // options={{\n    //   selectableRows: false // <===== will turn off checkboxes in rows\n    // }}\n  };\n\n  componentDidMount() {\n    API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n      let rows = response?.data?.data;\n      this.setState({ rows });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedLang !== this.state.selectedLang) {\n      API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n        let rows = response?.data?.data;\n        if (this.state.rows != rows) {\n          this.setState({ rows });\n        }\n      });\n    }\n  }\n\n\n  handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this ?\")) {\n\n      let token = localStorage.getItem(\"authToken\") || \"\"\n      API.delete(`/variations/${id}?lang=${this.state.selectedLang}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n        .then((response) => {\n          if (response.status === 200) {\n            alert(\"Variation deleted successfully !\");\n          }\n        })\n        .then(() => {\n          API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n            let rows = response?.data?.data;\n            this.setState({ rows });\n          });\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  handleChange = (event) => {\n    // setAge(event.target.value as string);\n    if (event.target.value != this.state.selectedLang) {\n      this.setState({ selectedLang: event.target.value })\n    }\n    console.log(event.target.value, \"event.target.value\")\n  };\n\n  onSelect = (dateValue) => {\n\n    if (dateValue.length > 1) {\n      let formMonth = dateValue[0].getMonth() + 1\n      let toMonth = dateValue[1].getMonth() + 1\n      let fromDate = dateValue[0].getDate()\n      let toDate = dateValue[1].getDate()\n\n      if (formMonth < 10) {\n        formMonth = \"0\" + formMonth\n      }\n      if (toMonth < 10) {\n        toMonth = \"0\" + toMonth\n      }\n      if (fromDate < 10) {\n        fromDate = \"0\" + fromDate\n      }\n      if (toDate < 10) {\n        toDate = \"0\" + toDate\n      }\n\n      let from = dateValue[0].getFullYear() + \"-\" + formMonth + \"-\" + fromDate\n      let to = dateValue[1].getFullYear() + \"-\" + toMonth + \"-\" + toDate\n\n      this.setState({ dateFrom: from, dateTo: to })\n    }\n\n  };\n  render() {\n    return (\n      <div>\n        <Card>\n          <Box marginBottom={2} margin={2}>\n            <div className=\"d-flex align-items-center\" style={{ columnGap: \"20px\" }}>\n              {/* <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ width: \"20%\" }}\n            // fullWidth\n            >\n              <InputLabel id=\"language\">Select Payment Type</InputLabel>\n              <Select\n                labelId=\"payment_type\"\n                id=\"payment_type\"\n                name=\"payment_type\"\n                value={this.state.selectedLang}\n                // onChange={handleInputChange}\n                label=\"Payment Type\"\n                fullWidth\n                onChange={this.handleChange}\n              >\n                <MenuItem value={'en'}>En</MenuItem>\n                <MenuItem value={'fr'}>FR</MenuItem>\n                <MenuItem value={'de'}>DE</MenuItem>\n\n              </Select>\n            </FormControl>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ width: \"20%\" }}\n            // fullWidth\n            >\n              <InputLabel id=\"language\">Select Order Status</InputLabel>\n              <Select\n                labelId=\"order_status\"\n                id=\"order_status\"\n                name=\"order_status\"\n                value={this.state.selectedLang}\n                // onChange={handleInputChange}\n                label=\"Order Status\"\n                fullWidth\n                onChange={this.handleChange}\n              >\n                <MenuItem value={'en'}>En</MenuItem>\n                <MenuItem value={'fr'}>FR</MenuItem>\n                <MenuItem value={'de'}>DE</MenuItem>\n\n              </Select>\n            </FormControl> */}\n              <FormControl\n                variant=\"outlined\"\n                size=\"small\"\n                style={{ width: \"20%\" }}\n              // fullWidth\n              >\n                <Flatpickr\n                  value={this.state.date}\n                  mode=\"range\"\n                  options={{\n                    dateFormat: \"Y-m-d\",\n                    mode: \"range\"\n                  }}\n                  onChange={(date) => {\n                    this.onSelect(date)\n                    this.setState({ date });\n                  }}\n                  placeholder={\"Select Date Here\"}\n                />\n              </FormControl>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<SearchOutlined />}\n              >\n                Search\n              </Button>\n            </div>\n          </Box>\n        </Card>\n        <MUIDataTable\n          title=\"Transactions\"\n          columns={this.state.columns}\n          data={this.state.rows}\n          options={this.options}\n          loading\n        />\n      </div>\n    );\n  }\n}\n\nexport default TransactionList;\n"]},"metadata":{},"sourceType":"module"}