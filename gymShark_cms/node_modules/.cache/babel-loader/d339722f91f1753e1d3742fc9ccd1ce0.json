{"ast":null,"code":"import _classCallCheck from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\laragon\\\\www\\\\Prism\\\\gymShark\\\\gymShark_cms\\\\src\\\\views\\\\ProductReport\\\\List.jsx\";\nimport React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"reactstrap\";\nimport { AddOutlined, SearchOutlined, DeleteOutlined, EditOutlined, VisibilityOutlined } from \"@material-ui/icons\";\nimport OrderDetailModal from './ProductReportModal';\nimport Card from \"components/Card/Card.js\";\nimport \"flatpickr/dist/themes/material_blue.css\";\nimport Flatpickr from \"react-flatpickr\";\n\nvar ProductReport = /*#__PURE__*/function (_Component) {\n  _inherits(ProductReport, _Component);\n\n  var _super = _createSuper(ProductReport);\n\n  function ProductReport() {\n    var _this;\n\n    _classCallCheck(this, ProductReport);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedLang: \"en\",\n      offers: [],\n      columns: [{\n        name: \"barcode\",\n        label: \"barcode\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"name\",\n        label: \"product Name\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"price\",\n        label: \"Price\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"qunatity_sold\",\n        label: \"qunatity Sold\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"amount\",\n        label: \"Amount\",\n        options: {\n          filter: true,\n          sort: true\n        }\n      }, {\n        name: \"route\",\n        label: \"Actions\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: function customBodyRender(val) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"d-flex nowrap\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 13\n              }\n            }, /*#__PURE__*/React.createElement(Button, {\n              className: \"ml-2\",\n              onClick: function onClick() {\n                return _this.setState({\n                  show: true\n                });\n              } // title=\"Edit\"\n              // to={`/admin/variations/edit/${val}?lang=${this.state.selectedLang}`}\n              ,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(VisibilityOutlined, {\n              fontSize: \"small\",\n              color: \"primary\",\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }\n            })));\n          }\n        }\n      }],\n      rows: [],\n      date: \"\",\n      dateFrom: \"\",\n      dateTo: \"\",\n      show: false\n    };\n    _this.options = {\n      // filterType: \"checkbox\",\n      responsive: \"vertical\",\n      selectableRows: false\n    };\n\n    _this.handleDelete = function (id) {\n      if (window.confirm(\"Are you sure you want to delete this ?\")) {\n        var token = localStorage.getItem(\"authToken\") || \"\";\n        API[\"delete\"](\"/variations/\".concat(id, \"?lang=\").concat(_this.state.selectedLang), {\n          headers: {\n            'Authorization': \"Bearer \".concat(token)\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            alert(\"Variation deleted successfully !\");\n          }\n        }).then(function () {\n          API.get(\"/variations?lang=\".concat(_this.state.selectedLang)).then(function (response) {\n            var _response$data;\n\n            var rows = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data;\n\n            _this.setState({\n              rows: rows\n            });\n          });\n        })[\"catch\"](function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.handleChange = function (event) {\n      // setAge(event.target.value as string);\n      if (event.target.value != _this.state.selectedLang) {\n        _this.setState({\n          selectedLang: event.target.value\n        });\n      }\n\n      console.log(event.target.value, \"event.target.value\");\n    };\n\n    _this.onSelect = function (dateValue) {\n      if (dateValue.length > 1) {\n        var formMonth = dateValue[0].getMonth() + 1;\n        var toMonth = dateValue[1].getMonth() + 1;\n        var fromDate = dateValue[0].getDate();\n        var toDate = dateValue[1].getDate();\n\n        if (formMonth < 10) {\n          formMonth = \"0\" + formMonth;\n        }\n\n        if (toMonth < 10) {\n          toMonth = \"0\" + toMonth;\n        }\n\n        if (fromDate < 10) {\n          fromDate = \"0\" + fromDate;\n        }\n\n        if (toDate < 10) {\n          toDate = \"0\" + toDate;\n        }\n\n        var from = dateValue[0].getFullYear() + \"-\" + formMonth + \"-\" + fromDate;\n        var to = dateValue[1].getFullYear() + \"-\" + toMonth + \"-\" + toDate;\n\n        _this.setState({\n          dateFrom: from,\n          dateTo: to\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductReport, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      API.get(\"/variations?lang=\".concat(this.state.selectedLang)).then(function (response) {\n        var _response$data2;\n\n        var rows = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data;\n\n        _this2.setState({\n          rows: rows\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      if (prevState.selectedLang !== this.state.selectedLang) {\n        API.get(\"/variations?lang=\".concat(this.state.selectedLang)).then(function (response) {\n          var _response$data3;\n\n          var rows = response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.data;\n\n          if (_this3.state.rows != rows) {\n            _this3.setState({\n              rows: rows\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(OrderDetailModal, {\n        show: this.state.show,\n        onHide: function onHide() {\n          _this4.setState({\n            show: false\n          });\n        },\n        review: this.state.selectReview,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Box, {\n        marginBottom: 2,\n        margin: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center\",\n        style: {\n          columnGap: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        size: \"small\",\n        style: {\n          width: \"20%\"\n        } // fullWidth\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Flatpickr, {\n        value: this.state.date,\n        mode: \"range\",\n        options: {\n          dateFormat: \"Y-m-d\",\n          mode: \"range\"\n        },\n        onChange: function onChange(date) {\n          _this4.onSelect(date);\n\n          _this4.setState({\n            date: date\n          });\n        },\n        placeholder: \"Select Date Here\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/React.createElement(SearchOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 28\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }\n      }, \"Search\")))), /*#__PURE__*/React.createElement(MUIDataTable, {\n        title: \"Product Report\",\n        columns: this.state.columns,\n        data: this.state.rows,\n        options: this.options,\n        loading: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return ProductReport;\n}(Component);\n\nexport default ProductReport;","map":{"version":3,"sources":["E:/laragon/www/Prism/gymShark/gymShark_cms/src/views/ProductReport/List.jsx"],"names":["React","Component","MUIDataTable","API","InputLabel","Avatar","Box","Button","FormControl","FormControlLabel","MenuItem","Radio","RadioGroup","Select","TextField","Link","Modal","AddOutlined","SearchOutlined","DeleteOutlined","EditOutlined","VisibilityOutlined","OrderDetailModal","Card","Flatpickr","ProductReport","state","selectedLang","offers","columns","name","label","options","filter","sort","customBodyRender","val","setState","show","rows","date","dateFrom","dateTo","responsive","selectableRows","handleDelete","id","window","confirm","token","localStorage","getItem","headers","then","response","status","alert","get","data","err","console","log","handleChange","event","target","value","onSelect","dateValue","length","formMonth","getMonth","toMonth","fromDate","getDate","toDate","from","getFullYear","to","prevProps","prevState","selectReview","columnGap","width","dateFormat","mode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport API from \"langapi/http\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport { FormControl, FormControlLabel, MenuItem, Radio, RadioGroup, Select, TextField, } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"reactstrap\";\nimport {\n  AddOutlined,\n  SearchOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  VisibilityOutlined,\n} from \"@material-ui/icons\";\nimport OrderDetailModal from './ProductReportModal'\n\n\nimport Card from \"components/Card/Card.js\";\nimport \"flatpickr/dist/themes/material_blue.css\";\nimport Flatpickr from \"react-flatpickr\";\nclass ProductReport extends Component {\n  state = {\n    selectedLang: \"en\",\n    offers: [],\n    columns: [\n      {\n        name: \"barcode\",\n        label: \"barcode\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"name\",\n        label: \"product Name\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"price\",\n        label: \"Price\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"qunatity_sold\",\n        label: \"qunatity Sold\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"amount\",\n        label: \"Amount\",\n        options: {\n          filter: true,\n          sort: true,\n        },\n      },\n      {\n        name: \"route\",\n        label: \"Actions\",\n        options: {\n          filter: false,\n          sort: false,\n          customBodyRender: (val) => (\n            <div className=\"d-flex nowrap\">\n              <Button\n                className=\"ml-2\"\n                onClick={() => this.setState({ show: true })}\n              // title=\"Edit\"\n              // to={`/admin/variations/edit/${val}?lang=${this.state.selectedLang}`}\n              >\n                <VisibilityOutlined fontSize=\"small\" color=\"primary\" />\n              </Button>\n              {/* <Link\n                className=\"ml-2\"\n                title=\"Delete\"\n                to={`#`}\n                onClick={() => this.handleDelete(val)}\n              >\n                <DeleteOutlined fontSize=\"small\" color=\"secondary\" />\n              </Link> */}\n            </div>\n          ),\n        },\n      },\n    ],\n    rows: [],\n    date: \"\",\n    dateFrom: \"\",\n    dateTo: \"\",\n    show: false\n  };\n\n  options = {\n    // filterType: \"checkbox\",\n    responsive: \"vertical\",\n    selectableRows: false\n  };\n\n  componentDidMount() {\n    API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n      let rows = response?.data?.data;\n      this.setState({ rows });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedLang !== this.state.selectedLang) {\n      API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n        let rows = response?.data?.data;\n        if (this.state.rows != rows) {\n          this.setState({ rows });\n        }\n      });\n    }\n  }\n\n\n  handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this ?\")) {\n\n      let token = localStorage.getItem(\"authToken\") || \"\"\n      API.delete(`/variations/${id}?lang=${this.state.selectedLang}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n        .then((response) => {\n          if (response.status === 200) {\n            alert(\"Variation deleted successfully !\");\n          }\n        })\n        .then(() => {\n          API.get(`/variations?lang=${this.state.selectedLang}`).then((response) => {\n            let rows = response?.data?.data;\n            this.setState({ rows });\n          });\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  handleChange = (event) => {\n    // setAge(event.target.value as string);\n    if (event.target.value != this.state.selectedLang) {\n      this.setState({ selectedLang: event.target.value })\n    }\n    console.log(event.target.value, \"event.target.value\")\n  };\n\n  onSelect = (dateValue) => {\n\n    if (dateValue.length > 1) {\n      let formMonth = dateValue[0].getMonth() + 1\n      let toMonth = dateValue[1].getMonth() + 1\n      let fromDate = dateValue[0].getDate()\n      let toDate = dateValue[1].getDate()\n\n      if (formMonth < 10) {\n        formMonth = \"0\" + formMonth\n      }\n      if (toMonth < 10) {\n        toMonth = \"0\" + toMonth\n      }\n      if (fromDate < 10) {\n        fromDate = \"0\" + fromDate\n      }\n      if (toDate < 10) {\n        toDate = \"0\" + toDate\n      }\n\n      let from = dateValue[0].getFullYear() + \"-\" + formMonth + \"-\" + fromDate\n      let to = dateValue[1].getFullYear() + \"-\" + toMonth + \"-\" + toDate\n\n      this.setState({ dateFrom: from, dateTo: to })\n    }\n\n  };\n  render() {\n    return (\n      <div>\n        <Card>\n          <OrderDetailModal show={this.state.show}\n            onHide={() => {\n              this.setState({ show: false });\n            }}\n            review={this.state.selectReview}\n          />\n          <Box marginBottom={2} margin={2}>\n            <div className=\"d-flex align-items-center\" style={{ columnGap: \"20px\" }}>\n              {/* <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ width: \"20%\" }}\n            // fullWidth\n            >\n              <InputLabel id=\"language\">Select Payment Type</InputLabel>\n              <Select\n                labelId=\"payment_type\"\n                id=\"payment_type\"\n                name=\"payment_type\"\n                value={this.state.selectedLang}\n                // onChange={handleInputChange}\n                label=\"Payment Type\"\n                fullWidth\n                onChange={this.handleChange}\n              >\n                <MenuItem value={'en'}>En</MenuItem>\n                <MenuItem value={'fr'}>FR</MenuItem>\n                <MenuItem value={'de'}>DE</MenuItem>\n\n              </Select>\n            </FormControl>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ width: \"20%\" }}\n            // fullWidth\n            >\n              <InputLabel id=\"language\">Select Order Status</InputLabel>\n              <Select\n                labelId=\"order_status\"\n                id=\"order_status\"\n                name=\"order_status\"\n                value={this.state.selectedLang}\n                // onChange={handleInputChange}\n                label=\"Order Status\"\n                fullWidth\n                onChange={this.handleChange}\n              >\n                <MenuItem value={'en'}>En</MenuItem>\n                <MenuItem value={'fr'}>FR</MenuItem>\n                <MenuItem value={'de'}>DE</MenuItem>\n\n              </Select>\n            </FormControl> */}\n              <FormControl\n                variant=\"outlined\"\n                size=\"small\"\n                style={{ width: \"20%\" }}\n              // fullWidth\n              >\n                <Flatpickr\n                  value={this.state.date}\n                  mode=\"range\"\n                  options={{\n                    dateFormat: \"Y-m-d\",\n                    mode: \"range\"\n                  }}\n                  onChange={(date) => {\n                    this.onSelect(date)\n                    this.setState({ date });\n                  }}\n                  placeholder={\"Select Date Here\"}\n                />\n              </FormControl>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<SearchOutlined />}\n              >\n                Search\n              </Button>\n            </div>\n          </Box>\n        </Card>\n        <MUIDataTable\n          title=\"Product Report\"\n          columns={this.state.columns}\n          data={this.state.rows}\n          options={this.options}\n          loading\n        />\n      </div>\n    );\n  }\n}\n\nexport default ProductReport;\n"]},"metadata":{},"sourceType":"module"}