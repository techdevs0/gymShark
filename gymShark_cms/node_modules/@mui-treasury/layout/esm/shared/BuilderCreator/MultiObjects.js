function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import { keys } from '@material-ui/core/styles/createBreakpoints';
import mapValues from 'lodash.mapvalues';
import { createMultiObjData, createSingleObjData } from '../State';
import { attachHiddenToMapById, normalizeMapById, getFieldById } from '../../utils';
export var createMultiObjBuilder = function createMultiObjBuilder(_ref) {
  var Registry = _ref.Registry,
      component = _ref.component;

  var MultiObjBuilder = function MultiObjBuilder() {
    var initialRpsConfigById = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var state = createMultiObjData(initialRpsConfigById);

    var getMapById = function getMapById() {
      var mapById = getFieldById(state.dataById, 'rpsConfig');
      var hiddenById = getFieldById(state.dataById, 'hidden');
      var propsById = getFieldById(state.dataById, 'props');
      var finalMapById = mapValues(mapById, function (value, key) {
        return mapValues(value, function (nestedValue) {
          return _extends(_extends({}, nestedValue), propsById[key]);
        });
      });
      var attachedMapById = attachHiddenToMapById(finalMapById, hiddenById);
      return {
        configMap: normalizeMapById(attachedMapById),
        configMapById: attachedMapById
      };
    };

    return {
      create: function create(id, props) {
        if (!state.ids.includes(id)) {
          // throw new Error(
          //   `id: ${id} already exists, please define another unique id`
          // );
          state.ids.push(id);
          state.dataById[id] = createSingleObjData({
            id: id,
            props: props
          });
        }

        return Registry(state.dataById[id]);
      },
      update: function update(id, updater) {
        if (state.dataById[id]) {
          updater(state.dataById[id].rpsConfig);
        } else {
          console.warn("No sidebar to update. id: ".concat(id));
        }
      },
      hide: function hide(id, breakpoints) {
        if (typeof breakpoints === 'boolean') {
          state.dataById[id].hidden = breakpoints ? keys : [];
        } else {
          state.dataById[id].hidden = breakpoints;
        }
      },
      getData: function getData() {
        return _extends({
          ids: state.ids,
          sidebarIds: state.ids,
          propsById: getFieldById(state.dataById, 'props'),
          hiddenById: getFieldById(state.dataById, 'hidden')
        }, getMapById());
      },
      debug: function debug() {
        if (process.env.NODE_ENV !== 'production') {
          var data = this.getData();
          state.ids.forEach(function (id) {
            console.group("".concat(component, ": "), "\"".concat(id, "\""));
            console.table(data.configMapById[id]);
            console.table(data.hiddenById[id]);
            console.groupEnd();
          });
        }
      }
    };
  };

  return MultiObjBuilder;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zaGFyZWQvQnVpbGRlckNyZWF0b3IvTXVsdGlPYmplY3RzLnRzIl0sIm5hbWVzIjpbImtleXMiLCJtYXBWYWx1ZXMiLCJjcmVhdGVNdWx0aU9iakRhdGEiLCJjcmVhdGVTaW5nbGVPYmpEYXRhIiwiYXR0YWNoSGlkZGVuVG9NYXBCeUlkIiwibm9ybWFsaXplTWFwQnlJZCIsImdldEZpZWxkQnlJZCIsImNyZWF0ZU11bHRpT2JqQnVpbGRlciIsIlJlZ2lzdHJ5IiwiY29tcG9uZW50IiwiTXVsdGlPYmpCdWlsZGVyIiwiaW5pdGlhbFJwc0NvbmZpZ0J5SWQiLCJzdGF0ZSIsImdldE1hcEJ5SWQiLCJtYXBCeUlkIiwiZGF0YUJ5SWQiLCJoaWRkZW5CeUlkIiwicHJvcHNCeUlkIiwiZmluYWxNYXBCeUlkIiwidmFsdWUiLCJrZXkiLCJuZXN0ZWRWYWx1ZSIsImF0dGFjaGVkTWFwQnlJZCIsImNvbmZpZ01hcCIsImNvbmZpZ01hcEJ5SWQiLCJjcmVhdGUiLCJpZCIsInByb3BzIiwiaWRzIiwiaW5jbHVkZXMiLCJwdXNoIiwidXBkYXRlIiwidXBkYXRlciIsInJwc0NvbmZpZyIsImNvbnNvbGUiLCJ3YXJuIiwiaGlkZSIsImJyZWFrcG9pbnRzIiwiaGlkZGVuIiwiZ2V0RGF0YSIsInNpZGViYXJJZHMiLCJkZWJ1ZyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImRhdGEiLCJmb3JFYWNoIiwiZ3JvdXAiLCJ0YWJsZSIsImdyb3VwRW5kIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQXFCQSxJQUFyQixRQUFpQyw0Q0FBakM7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLGtCQUF0QjtBQUNBLFNBQ0VDLGtCQURGLEVBRUVDLG1CQUZGLFFBS08sVUFMUDtBQVFBLFNBQ0VDLHFCQURGLEVBRUVDLGdCQUZGLEVBR0VDLFlBSEYsUUFJTyxhQUpQO0FBZ0NBLE9BQU8sSUFBTUMscUJBQXFCLEdBQUcsU0FBeEJBLHFCQUF3QixPQU9wQjtBQUFBLE1B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QUFBQSxTQUFTLEVBQUVYLFlBQVksQ0FBQ00sS0FBSyxDQUFDRyxRQUFQLEVBQWlCLE9BQWpCLENBSHpCO0FBSUVDLFVBQUFBLFVBQVUsRUFBRVYsWUFBWSxDQUFDTSxLQUFLLENBQUNHLFFBQVAsRUFBaUIsUUFBakI7QUFKMUIsV0FLS0YsVUFBVSxFQUxmO0FBT0QsT0FwQ0k7QUFxQ0w0QixNQUFBQSxLQXJDSyxtQkFxQ0c7QUFDTixZQUFJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxjQUFNQyxJQUFJLEdBQUcsS0FBS04sT0FBTCxFQUFiO0FBQ0EzQixVQUFBQSxLQUFLLENBQUNnQixHQUFOLENBQVVrQixPQUFWLENBQWtCLFVBQUFwQixFQUFFLEVBQUk7QUFDdEJRLFlBQUFBLE9BQU8sQ0FBQ2EsS0FBUixXQUFpQnRDLFNBQWpCLHFCQUFvQ2lCLEVBQXBDO0FBQ0FRLFlBQUFBLE9BQU8sQ0FBQ2MsS0FBUixDQUFjSCxJQUFJLENBQUNyQixhQUFMLENBQW1CRSxFQUFuQixDQUFkO0FBQ0FRLFlBQUFBLE9BQU8sQ0FBQ2MsS0FBUixDQUFjSCxJQUFJLENBQUM3QixVQUFMLENBQWdCVSxFQUFoQixDQUFkO0FBQ0FRLFlBQUFBLE9BQU8sQ0FBQ2UsUUFBUjtBQUNELFdBTEQ7QUFNRDtBQUNGO0FBL0NJLEtBQVA7QUFpREQsR0F0RUQ7O0FBd0VBLFNBQU92QyxlQUFQO0FBQ0QsQ0FqRk0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcmVha3BvaW50LCBrZXlzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL2NyZWF0ZUJyZWFrcG9pbnRzJztcbmltcG9ydCBtYXBWYWx1ZXMgZnJvbSAnbG9kYXNoLm1hcHZhbHVlcyc7XG5pbXBvcnQge1xuICBjcmVhdGVNdWx0aU9iakRhdGEsXG4gIGNyZWF0ZVNpbmdsZU9iakRhdGEsXG4gIFJwc0NvbmZpZyxcbiAgUnBzQ29uZmlnQXJyYXksXG59IGZyb20gJy4uL1N0YXRlJztcbmltcG9ydCB7IER1bW15UmVnaXN0cnkgfSBmcm9tICcuL1NpbmdsZU9iamVjdCc7XG5pbXBvcnQgeyBEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgYXR0YWNoSGlkZGVuVG9NYXBCeUlkLFxuICBub3JtYWxpemVNYXBCeUlkLFxuICBnZXRGaWVsZEJ5SWQsXG59IGZyb20gJy4uLy4uL3V0aWxzJztcblxudHlwZSBQYXJhbXM8Uj4gPSB7XG4gIFJlZ2lzdHJ5PzogUjtcbiAgY29tcG9uZW50PzogJ0VkZ2VTaWRlYmFyJyB8ICdJbnNldFNpZGViYXInIHwgJ1N1YmhlYWRlcic7XG59O1xuXG5leHBvcnQgdHlwZSBDb21wb25lbnREYXRhPENvbmZpZywgUHJvcHMgPSB7fT4gPSB7XG4gIGlkczogc3RyaW5nW107XG4gIHNpZGViYXJJZHM6IHN0cmluZ1tdO1xuICBwcm9wc0J5SWQ6IERpY3Rpb25hcnk8UHJvcHM+O1xuICBjb25maWdNYXBCeUlkOiBEaWN0aW9uYXJ5PFJwc0NvbmZpZzxDb25maWcgJiBQcm9wcz4+O1xuICBjb25maWdNYXA6IFJwc0NvbmZpZ0FycmF5PENvbmZpZyAmIFByb3BzPjtcbiAgaGlkZGVuQnlJZDogRGljdGlvbmFyeTxCcmVha3BvaW50W10+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11bHRpT2JqQnVpbGRlclJlc3VsdDxcbiAgUiBleHRlbmRzIER1bW15UmVnaXN0cnksXG4gIENvbmZpZyA9IHVuZGVmaW5lZCxcbiAgUHJvcHMgPSB7fVxuPiB7XG4gIGNyZWF0ZTogKGlkOiBzdHJpbmcsIHByb3BzOiBQcm9wcykgPT4gUmV0dXJuVHlwZTxSPjtcbiAgdXBkYXRlOiAoaWQ6IHN0cmluZywgdXBkYXRlcjogKHJwc0NvbmZpZzogUnBzQ29uZmlnPENvbmZpZz4pID0+IHZvaWQpID0+IHZvaWQ7XG4gIGhpZGU6IChpZDogc3RyaW5nLCBicmVha3BvaW50czogQnJlYWtwb2ludFtdIHwgYm9vbGVhbikgPT4gdm9pZDtcbiAgZ2V0RGF0YTogKCkgPT4gQ29tcG9uZW50RGF0YTxDb25maWcsIFByb3BzPjtcbiAgZGVidWc/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlTXVsdGlPYmpCdWlsZGVyID0gPFxuICBSIGV4dGVuZHMgRHVtbXlSZWdpc3RyeTxDb25maWc+LFxuICBDb25maWcgPSB1bmRlZmluZWQsXG4gIFByb3BzID0gUGFydGlhbDxDb25maWc+XG4+KHtcbiAgUmVnaXN0cnksXG4gIGNvbXBvbmVudCxcbn06IFBhcmFtczxSPikgPT4ge1xuICBjb25zdCBNdWx0aU9iakJ1aWxkZXIgPSAoXG4gICAgaW5pdGlhbFJwc0NvbmZpZ0J5SWQ6IERpY3Rpb25hcnk8UnBzQ29uZmlnPENvbmZpZz4+ID0ge31cbiAgKTogTXVsdGlPYmpCdWlsZGVyUmVzdWx0PFIsIENvbmZpZywgUHJvcHM+ID0+IHtcbiAgICBsZXQgc3RhdGUgPSBjcmVhdGVNdWx0aU9iakRhdGE8Q29uZmlnLCBQcm9wcz4oaW5pdGlhbFJwc0NvbmZpZ0J5SWQpO1xuXG4gICAgY29uc3QgZ2V0TWFwQnlJZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1hcEJ5SWQgPSBnZXRGaWVsZEJ5SWQoc3RhdGUuZGF0YUJ5SWQsICdycHNDb25maWcnKTtcbiAgICAgIGNvbnN0IGhpZGRlbkJ5SWQgPSBnZXRGaWVsZEJ5SWQoc3RhdGUuZGF0YUJ5SWQsICdoaWRkZW4nKTtcbiAgICAgIGNvbnN0IHByb3BzQnlJZCA9IGdldEZpZWxkQnlJZChzdGF0ZS5kYXRhQnlJZCwgJ3Byb3BzJyk7XG4gICAgICBjb25zdCBmaW5hbE1hcEJ5SWQgPSBtYXBWYWx1ZXMobWFwQnlJZCwgKHZhbHVlLCBrZXkpID0+XG4gICAgICAgIG1hcFZhbHVlcyh2YWx1ZSwgbmVzdGVkVmFsdWUgPT4gKHtcbiAgICAgICAgICAuLi5uZXN0ZWRWYWx1ZSxcbiAgICAgICAgICAuLi5wcm9wc0J5SWRba2V5XSxcbiAgICAgICAgfSkpXG4gICAgICApO1xuICAgICAgY29uc3QgYXR0YWNoZWRNYXBCeUlkID0gYXR0YWNoSGlkZGVuVG9NYXBCeUlkKGZpbmFsTWFwQnlJZCwgaGlkZGVuQnlJZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25maWdNYXA6IG5vcm1hbGl6ZU1hcEJ5SWQoYXR0YWNoZWRNYXBCeUlkKSxcbiAgICAgICAgY29uZmlnTWFwQnlJZDogYXR0YWNoZWRNYXBCeUlkLFxuICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGUoaWQsIHByb3BzKSB7XG4gICAgICAgIGlmICghc3RhdGUuaWRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAvLyAgIGBpZDogJHtpZH0gYWxyZWFkeSBleGlzdHMsIHBsZWFzZSBkZWZpbmUgYW5vdGhlciB1bmlxdWUgaWRgXG4gICAgICAgICAgLy8gKTtcbiAgICAgICAgICBzdGF0ZS5pZHMucHVzaChpZCk7XG4gICAgICAgICAgc3RhdGUuZGF0YUJ5SWRbaWRdID0gY3JlYXRlU2luZ2xlT2JqRGF0YTxDb25maWcsIFByb3BzPih7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWdpc3RyeShzdGF0ZS5kYXRhQnlJZFtpZF0pIGFzIFJldHVyblR5cGU8Uj47XG4gICAgICB9LFxuICAgICAgdXBkYXRlKGlkLCB1cGRhdGVyKSB7XG4gICAgICAgIGlmIChzdGF0ZS5kYXRhQnlJZFtpZF0pIHtcbiAgICAgICAgICB1cGRhdGVyKHN0YXRlLmRhdGFCeUlkW2lkXS5ycHNDb25maWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gc2lkZWJhciB0byB1cGRhdGUuIGlkOiAke2lkfWApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGlkZShpZCwgYnJlYWtwb2ludHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBicmVha3BvaW50cyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc3RhdGUuZGF0YUJ5SWRbaWRdLmhpZGRlbiA9IGJyZWFrcG9pbnRzID8ga2V5cyA6IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLmRhdGFCeUlkW2lkXS5oaWRkZW4gPSBicmVha3BvaW50cztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWRzOiBzdGF0ZS5pZHMsXG4gICAgICAgICAgc2lkZWJhcklkczogc3RhdGUuaWRzLFxuICAgICAgICAgIHByb3BzQnlJZDogZ2V0RmllbGRCeUlkKHN0YXRlLmRhdGFCeUlkLCAncHJvcHMnKSxcbiAgICAgICAgICBoaWRkZW5CeUlkOiBnZXRGaWVsZEJ5SWQoc3RhdGUuZGF0YUJ5SWQsICdoaWRkZW4nKSxcbiAgICAgICAgICAuLi5nZXRNYXBCeUlkKCksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZGVidWcoKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpO1xuICAgICAgICAgIHN0YXRlLmlkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoYCR7Y29tcG9uZW50fTogYCwgYFwiJHtpZH1cImApO1xuICAgICAgICAgICAgY29uc29sZS50YWJsZShkYXRhLmNvbmZpZ01hcEJ5SWRbaWRdKTtcbiAgICAgICAgICAgIGNvbnNvbGUudGFibGUoZGF0YS5oaWRkZW5CeUlkW2lkXSk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gTXVsdGlPYmpCdWlsZGVyO1xufTtcbiJdfQ==