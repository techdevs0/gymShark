import EdgeSidebars from "../effects/EdgeSidebars";
import createHeaderModel from "../models/Header/HeaderModel";
import { combineBreakpoints, pickNearestBreakpoint } from "../utils";
export default (function (state, header, edgeSidebar) {
  return {
    getResultStyle: function getResultStyle() {
      var result = {};
      var breakpoints = combineBreakpoints(header, edgeSidebar.configMap);
      EdgeSidebars(state, edgeSidebar).iterateBreakpointEffects(breakpoints, function (bp, effects) {
        var headerConfig = pickNearestBreakpoint(header, bp);

        if (!headerConfig) {
          throw new Error("Cannot find HeaderConfig at breakpoint: ".concat(bp, ", please provide config at least on \"xs\" breakpoint"));
        }

        result[bp] = createHeaderModel(headerConfig, effects).getStyle();
      });
      return result;
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21waWxlcnMvSGVhZGVyQ29tcGlsZXIudHMiXSwibmFtZXMiOlsiRWRnZVNpZGViYXJzIiwiY3JlYXRlSGVhZGVyTW9kZWwiLCJjb21iaW5lQnJlYWtwb2ludHMiLCJwaWNrTmVhcmVzdEJyZWFrcG9pbnQiLCJzdGF0ZSIsImhlYWRlciIsImVkZ2VTaWRlYmFyIiwiZ2V0UmVzdWx0U3R5bGUiLCJyZXN1bHQiLCJicmVha3BvaW50cyIsImNvbmZpZ01hcCIsIml0ZXJhdGVCcmVha3BvaW50RWZmZWN0cyIsImJwIiwiZWZmZWN0cyIsImhlYWRlckNvbmZpZyIsIkVycm9yIiwiZ2V0U3R5bGUiXSwibWFwcGluZ3MiOiJBQUNBLE9BQU9BLFlBQVAsTUFBeUIseUJBQXpCO0FBQ0EsT0FBT0MsaUJBQVAsTUFBOEIsOEJBQTlCO0FBQ0EsU0FBU0Msa0JBQVQsRUFBNkJDLHFCQUE3QixRQUEwRCxVQUExRDtBQUVBLGdCQUFlLFVBQ2JDLEtBRGEsRUFFYkMsTUFGYSxFQUdiQyxXQUhhLEVBSVY7QUFDSCxTQUFPO0FBQ0xDLElBQUFBLGNBQWMsRUFBRSwwQkFBbUI7QUFDakMsVUFBTUMsTUFBbUIsR0FBRyxFQUE1QjtBQUNBLFVBQU1DLFdBQVcsR0FBR1Asa0JBQWtCLENBQUNHLE1BQUQsRUFBU0MsV0FBVyxDQUFDSSxTQUFyQixDQUF0QztBQUNBVixNQUFBQSxZQUFZLENBQUNJLEtBQUQsRUFBUUUsV0FBUixDQUFaLENBQWlDSyx3QkFBakMsQ0FDRUYsV0FERixFQUVFLFVBQUNHLEVBQUQsRUFBS0MsT0FBTCxFQUFpQjtBQUNmLFlBQU1DLFlBQVksR0FBR1gscUJBQXFCLENBQUNFLE1BQUQsRUFBU08sRUFBVCxDQUExQzs7QUFDQSxZQUFJLENBQUNFLFlBQUwsRUFBbUI7QUFDakIsZ0JBQU0sSUFBSUMsS0FBSixtREFDdUNILEVBRHZDLDJEQUFOO0FBR0Q7O0FBRURKLFFBQUFBLE1BQU0sQ0FBQ0ksRUFBRCxDQUFOLEdBQWFYLGlCQUFpQixDQUFDYSxZQUFELEVBQWVELE9BQWYsQ0FBakIsQ0FBeUNHLFFBQXpDLEVBQWI7QUFDRCxPQVhIO0FBYUEsYUFBT1IsTUFBUDtBQUNEO0FBbEJJLEdBQVA7QUFvQkQsQ0F6QkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGdlU2lkZWJhckRhdGEsIEhlYWRlckNvbmZpZ01hcCwgUmVzdWx0U3R5bGUsIFN0YXRlIH0gZnJvbSBcIi4uL3R5cGVzXCJcbmltcG9ydCBFZGdlU2lkZWJhcnMgZnJvbSBcIi4uL2VmZmVjdHMvRWRnZVNpZGViYXJzXCJcbmltcG9ydCBjcmVhdGVIZWFkZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL0hlYWRlci9IZWFkZXJNb2RlbFwiXG5pbXBvcnQgeyBjb21iaW5lQnJlYWtwb2ludHMsIHBpY2tOZWFyZXN0QnJlYWtwb2ludCB9IGZyb20gXCIuLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IChcbiAgc3RhdGU6IFN0YXRlLFxuICBoZWFkZXI6IEhlYWRlckNvbmZpZ01hcCxcbiAgZWRnZVNpZGViYXI6IEVkZ2VTaWRlYmFyRGF0YVxuKSA9PiB7XG4gIHJldHVybiB7XG4gICAgZ2V0UmVzdWx0U3R5bGU6ICgpOiBSZXN1bHRTdHlsZSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQ6IFJlc3VsdFN0eWxlID0ge31cbiAgICAgIGNvbnN0IGJyZWFrcG9pbnRzID0gY29tYmluZUJyZWFrcG9pbnRzKGhlYWRlciwgZWRnZVNpZGViYXIuY29uZmlnTWFwKVxuICAgICAgRWRnZVNpZGViYXJzKHN0YXRlLCBlZGdlU2lkZWJhcikuaXRlcmF0ZUJyZWFrcG9pbnRFZmZlY3RzKFxuICAgICAgICBicmVha3BvaW50cyxcbiAgICAgICAgKGJwLCBlZmZlY3RzKSA9PiB7XG4gICAgICAgICAgY29uc3QgaGVhZGVyQ29uZmlnID0gcGlja05lYXJlc3RCcmVha3BvaW50KGhlYWRlciwgYnApXG4gICAgICAgICAgaWYgKCFoZWFkZXJDb25maWcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYENhbm5vdCBmaW5kIEhlYWRlckNvbmZpZyBhdCBicmVha3BvaW50OiAke2JwfSwgcGxlYXNlIHByb3ZpZGUgY29uZmlnIGF0IGxlYXN0IG9uIFwieHNcIiBicmVha3BvaW50YFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdFticF0gPSBjcmVhdGVIZWFkZXJNb2RlbChoZWFkZXJDb25maWcsIGVmZmVjdHMpLmdldFN0eWxlKClcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0sXG4gIH1cbn1cbiJdfQ==