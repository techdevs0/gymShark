"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.useInsetSidebar = void 0;

var _deepmerge = _interopRequireDefault(require("deepmerge"));

var _styles = require("@material-ui/core/styles");

var _contexts = require("../contexts");

var _InsetSidebarCompiler = _interopRequireDefault(require("../compilers/InsetSidebarCompiler"));

var _utils = require("../utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var useInsetSidebar = function useInsetSidebar(id) {
  var _useLayoutCtx = (0, _contexts.useLayoutCtx)(),
      _useLayoutCtx$data = _useLayoutCtx.data,
      insetSidebar = _useLayoutCtx$data.insetSidebar,
      header = _useLayoutCtx$data.header;

  var theme = (0, _styles.useTheme)();
  var breakpoints = theme.breakpoints;
  var compiler = (0, _InsetSidebarCompiler["default"])(insetSidebar, header);

  var _compiler$getResultSt = compiler.getResultStyle(id),
      root = _compiler$getResultSt.root,
      body = _compiler$getResultSt.body;

  var variant = compiler.getVariant(id); // value won't change when viewport changes

  var hiddenRootStyles = (0, _utils.createHiddenStyles)(root, [], breakpoints);
  var hiddenBodyStyles = (0, _utils.createHiddenStyles)(body, [], breakpoints);
  return {
    variant: variant,
    insetSidebar: insetSidebar,
    rootStyles: (0, _deepmerge["default"])((0, _utils.createBreakpointStyles)(root, theme), hiddenRootStyles),
    bodyStyles: (0, _deepmerge["default"])((0, _utils.createBreakpointStyles)(body, theme), hiddenBodyStyles)
  };
};

exports.useInsetSidebar = useInsetSidebar;
var _default = useInsetSidebar;
exports["default"] = _default;